<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                    assembly="HSA.InfoSys.DBManager"
                    namespace="HSA.InfoSys.DBManager.Data">

  <class name= "Issue" table ="Issue">
    <id name ="issueGUID" type ="guid">
      <generator class="guid.comb"/>
    </id>
    <property name="issueId" type ="int" column="issueId" length ="11" not-null="true" unique="true" />
    <property name="text" type="string">
      <column name="text" sql-type="mediumtext" length="16777215" not-null="false"/>
    </property>
    <property name="titel" type="string" column="titel" length ="40" not-null="true" unique="true"/>
    <property name="threatLevel" type="int" column="threatlevel" length ="11" not-null="true" unique="true"/>
    <property name="date" type="date" column="date" not-null="true" unique="true"/>
    <many-to-one name="component" class="Component" column="componentGUID"></many-to-one>
    <many-to-one name="source" class="Source" column="sourceGUID"></many-to-one>
  </class>

  <class name= "Component" table ="Component">
    <id name ="componentGUID" type ="guid">
      <generator class="guid.comb"/>
    </id>
    <property name="componentId" type ="int" column="componentId" length ="11" not-null="true" unique="true" />
    <property name="name" type="string" column="name" length ="40" not-null="true" />
    <property name="category" type="string" column="category" length ="8" not-null="true" />
  </class>

  <class name= "Source" table ="Source">
    <id name ="sourceGUID" type ="guid">
      <generator class="guid.comb"/>
    </id>
    <property name="sourceId" type ="int" column="sourceId" length ="11" not-null="true" unique="true" />
    <property name="URL" type="string" >
      <column name="URL" length ="2043" not-null="true" />
    </property>
  </class>


</hibernate-mapping>